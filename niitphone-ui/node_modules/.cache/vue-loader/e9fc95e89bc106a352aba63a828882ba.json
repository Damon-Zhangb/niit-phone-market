{"remainingRequest":"/Users/sc/IdeaProjects/vue-admin-template/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sc/IdeaProjects/vue-admin-template/src/views/dashboard/echartsMain/components/barchart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sc/IdeaProjects/vue-admin-template/src/views/dashboard/echartsMain/components/barchart.vue","mtime":1610198326632},{"path":"/Users/sc/IdeaProjects/vue-admin-template/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sc/IdeaProjects/vue-admin-template/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/sc/IdeaProjects/vue-admin-template/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sc/IdeaProjects/vue-admin-template/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IGVjaGFydHMgZnJvbSAnZWNoYXJ0cycKcmVxdWlyZSgnZWNoYXJ0cy90aGVtZS9zaGluZScpCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgY2xhc3NOYW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2NoYXJ0JwogICAgfSwKICAgIHdpZHRoOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJzEyMDBweCcKICAgIH0sCiAgICBoZWlnaHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnNTAwcHgnCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hhcnQ6IG51bGwsCiAgICAgIGxpc3Q6IFtdLAogICAgICBkbzogW10sCiAgICAgIG1pbk51bTogMCwKICAgICAgbWF4TnVtOiAwCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgbGlzdCgpIHsKICAgICAgdGhpcy50aW1lcigpCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5pbml0Q2hhcnQoKQogIH0sCiAgZGVzdHJveWVkKCkgewogICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXREYXRhKCkgewogICAgICBjb25zdCBfdGhpcyA9IHRoaXMKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjEwMDg2L3RvcC9nZXRSZWRpcycpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgX3RoaXMubGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YQogICAgICAgICAgICBpZiAoX3RoaXMubGlzdC5sZW5ndGggPj0gOSkgewogICAgICAgICAgICAgIF90aGlzLmRvID0gWwogICAgICAgICAgICAgICAgWydhbW91bnQnLCAncHJvZHVjdCddLAogICAgICAgICAgICAgICAgW190aGlzLmxpc3RbOF0ubnVtYmVyLCBfdGhpcy5saXN0WzhdLnBob25lTmFtZV0sCiAgICAgICAgICAgICAgICBbX3RoaXMubGlzdFs3XS5udW1iZXIsIF90aGlzLmxpc3RbN10ucGhvbmVOYW1lXSwKICAgICAgICAgICAgICAgIFtfdGhpcy5saXN0WzZdLm51bWJlciwgX3RoaXMubGlzdFs2XS5waG9uZU5hbWVdLAogICAgICAgICAgICAgICAgW190aGlzLmxpc3RbNV0ubnVtYmVyLCBfdGhpcy5saXN0WzVdLnBob25lTmFtZV0sCiAgICAgICAgICAgICAgICBbX3RoaXMubGlzdFs0XS5udW1iZXIsIF90aGlzLmxpc3RbNF0ucGhvbmVOYW1lXSwKICAgICAgICAgICAgICAgIFtfdGhpcy5saXN0WzNdLm51bWJlciwgX3RoaXMubGlzdFszXS5waG9uZU5hbWVdLAogICAgICAgICAgICAgICAgW190aGlzLmxpc3RbMl0ubnVtYmVyLCBfdGhpcy5saXN0WzJdLnBob25lTmFtZV0sCiAgICAgICAgICAgICAgICBbX3RoaXMubGlzdFsxXS5udW1iZXIsIF90aGlzLmxpc3RbMV0ucGhvbmVOYW1lXSwKICAgICAgICAgICAgICAgIFtfdGhpcy5saXN0WzBdLm51bWJlciwgX3RoaXMubGlzdFswXS5waG9uZU5hbWVdCiAgICAgICAgICAgICAgXQogICAgICAgICAgICAgIF90aGlzLm1pbk51bSA9IF90aGlzLmxpc3RbOF0ubnVtYmVyCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMuZG9bMF0gPSBbJ2Ftb3VudCcsICdwcm9kdWN0J10KICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBfdGhpcy5saXN0Lmxlbmd0aCAtIDE7IGkrKykgewogICAgICAgICAgICAgICAgX3RoaXMuZG9baSArIDFdID0gW190aGlzLmxpc3RbX3RoaXMubGlzdC5sZW5ndGggLSAxIC0gaV0ubnVtYmVyLCBfdGhpcy5saXN0W190aGlzLmxpc3QubGVuZ3RoIC0gMSAtIGldLnBob25lTmFtZV0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX3RoaXMubWluTnVtID0gX3RoaXMubGlzdFtfdGhpcy5saXN0Lmxlbmd0aCAtIDFdLm51bWJlcgogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpcy5tYXhOdW0gPSBfdGhpcy5saXN0WzBdLm51bWJlcgogICAgICAgICAgfQogICAgICAgIH0pCiAgICB9LAogICAgdGltZXIoKSB7CiAgICAgIHJldHVybiBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLmluaXRDaGFydCgpCiAgICAgIH0sIDUwMCkKICAgIH0sCiAgICBpbml0Q2hhcnQoKSB7CiAgICAgIHRoaXMuZ2V0RGF0YSgpCgogICAgICB0aGlzLmNoYXJ0ID0gZWNoYXJ0cy5pbml0KHRoaXMuJGVsLCAnc2hpbmUnKQogICAgICB0aGlzLmNoYXJ0LnNldE9wdGlvbih7CiAgICAgICAgZGF0YXNldDogewogICAgICAgICAgc291cmNlOiB0aGlzLmRvCiAgICAgICAgfSwKICAgICAgICBncmlkOiB7IGNvbnRhaW5MYWJlbDogdHJ1ZSB9LAogICAgICAgIHhBeGlzOiB7IG5hbWU6ICdhbW91bnQnIH0sCiAgICAgICAgeUF4aXM6IHsgdHlwZTogJ2NhdGVnb3J5JyB9LAogICAgICAgIHZpc3VhbE1hcDogewogICAgICAgICAgb3JpZW50OiAnaG9yaXpvbnRhbCcsCiAgICAgICAgICBsZWZ0OiAnY2VudGVyJywKICAgICAgICAgIG1pbjogdGhpcy5taW5OdW0sCiAgICAgICAgICBtYXg6IHRoaXMubWF4TnVtLAogICAgICAgICAgdGV4dDogWydIaWdoIFNjb3JlJywgJ0xvdyBTY29yZSddLAogICAgICAgICAgLy8gTWFwIHRoZSBzY29yZSBjb2x1bW4gdG8gY29sb3IKICAgICAgICAgIGRpbWVuc2lvbjogMCwKICAgICAgICAgIGluUmFuZ2U6IHsKICAgICAgICAgICAgY29sb3I6IFsnIzA2ZGRmMScsICcjMDgxY2Q1J10KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNlcmllczogWwogICAgICAgICAgewogICAgICAgICAgICB0eXBlOiAnYmFyJywKICAgICAgICAgICAgZW5jb2RlOiB7CiAgICAgICAgICAgICAgLy8gTWFwIHRoZSAiYW1vdW50IiBjb2x1bW4gdG8gWCBheGlzLgogICAgICAgICAgICAgIHg6ICdhbW91bnQnLAogICAgICAgICAgICAgIC8vIE1hcCB0aGUgInByb2R1Y3QiIGNvbHVtbiB0byBZIGF4aXMKICAgICAgICAgICAgICB5OiAncHJvZHVjdCcKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["barchart.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"barchart.vue","sourceRoot":"src/views/dashboard/echartsMain/components","sourcesContent":["<template>\n  <div id=\"box\" :class=\"className\" :style=\"{height:height,width:width}\" />\n</template>\n\n<script>\nimport axios from 'axios'\nimport echarts from 'echarts'\nrequire('echarts/theme/shine')\nexport default {\n  props: {\n    className: {\n      type: String,\n      default: 'chart'\n    },\n    width: {\n      type: String,\n      default: '1200px'\n    },\n    height: {\n      type: String,\n      default: '500px'\n    }\n  },\n  data() {\n    return {\n      chart: null,\n      list: [],\n      do: [],\n      minNum: 0,\n      maxNum: 0\n    }\n  },\n  watch: {\n    list() {\n      this.timer()\n    }\n  },\n  mounted() {\n    this.initChart()\n  },\n  destroyed() {\n    clearTimeout(this.timer)\n  },\n  methods: {\n    getData() {\n      const _this = this\n      axios.get('http://localhost:10086/top/getRedis')\n        .then(function(response) {\n          if (response.data.code === 0) {\n            _this.list = response.data.data\n            if (_this.list.length >= 9) {\n              _this.do = [\n                ['amount', 'product'],\n                [_this.list[8].number, _this.list[8].phoneName],\n                [_this.list[7].number, _this.list[7].phoneName],\n                [_this.list[6].number, _this.list[6].phoneName],\n                [_this.list[5].number, _this.list[5].phoneName],\n                [_this.list[4].number, _this.list[4].phoneName],\n                [_this.list[3].number, _this.list[3].phoneName],\n                [_this.list[2].number, _this.list[2].phoneName],\n                [_this.list[1].number, _this.list[1].phoneName],\n                [_this.list[0].number, _this.list[0].phoneName]\n              ]\n              _this.minNum = _this.list[8].number\n            } else {\n              _this.do[0] = ['amount', 'product']\n              for (let i = 0; i <= _this.list.length - 1; i++) {\n                _this.do[i + 1] = [_this.list[_this.list.length - 1 - i].number, _this.list[_this.list.length - 1 - i].phoneName]\n              }\n              _this.minNum = _this.list[_this.list.length - 1].number\n            }\n\n            _this.maxNum = _this.list[0].number\n          }\n        })\n    },\n    timer() {\n      return setTimeout(() => {\n        this.initChart()\n      }, 500)\n    },\n    initChart() {\n      this.getData()\n\n      this.chart = echarts.init(this.$el, 'shine')\n      this.chart.setOption({\n        dataset: {\n          source: this.do\n        },\n        grid: { containLabel: true },\n        xAxis: { name: 'amount' },\n        yAxis: { type: 'category' },\n        visualMap: {\n          orient: 'horizontal',\n          left: 'center',\n          min: this.minNum,\n          max: this.maxNum,\n          text: ['High Score', 'Low Score'],\n          // Map the score column to color\n          dimension: 0,\n          inRange: {\n            color: ['#06ddf1', '#081cd5']\n          }\n        },\n        series: [\n          {\n            type: 'bar',\n            encode: {\n              // Map the \"amount\" column to X axis.\n              x: 'amount',\n              // Map the \"product\" column to Y axis\n              y: 'product'\n            }\n          }\n        ]\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}